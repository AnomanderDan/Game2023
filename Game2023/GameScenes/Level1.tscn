[gd_scene load_steps=14 format=2]

[ext_resource path="res://Entities/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Entities/Enemy.tscn" type="PackedScene" id=2]
[ext_resource path="res://MenuScenes/Pause.tscn" type="PackedScene" id=3]
[ext_resource path="res://basic_building.tscn" type="PackedScene" id=4]
[ext_resource path="res://road_cone.tscn" type="PackedScene" id=5]
[ext_resource path="res://Asphalt025A_4K-JPG/Asphalt.tres" type="Material" id=6]
[ext_resource path="res://MenuScenes/UI.tscn" type="PackedScene" id=7]
[ext_resource path="res://stairs.tscn" type="PackedScene" id=8]

[sub_resource type="Environment" id=4]
background_mode = 1
background_color = Color( 0.0823529, 0.0901961, 0.196078, 1 )
background_energy = 0.21
ambient_light_color = Color( 0.713726, 0.690196, 0.811765, 1 )
ambient_light_energy = 0.1
fog_enabled = true

[sub_resource type="AnimationNodeStateMachinePlayback" id=6]

[sub_resource type="NavigationMesh" id=5]
vertices = PoolVector3Array( -2.3506, 18.2588, -31.8561, -2.3506, 18.2588, -27.8561, 8.8994, 18.2588, -27.8561, 8.8994, 18.2588, -31.8561, 11.6494, 18.2588, -31.8561, 11.6494, 18.2588, -27.6061, 22.8994, 18.2588, -27.6061, 22.8994, 18.2588, -31.8561, -3.1006, 1.25883, -26.6061, -3.3506, 1.25883, -27.8561, -13.3506, 1.25883, -27.8561, -23.1006, 1.25883, -18.8561, -23.1006, 1.25883, -9.60611, -13.3506, 1.25883, -27.8561, -23.1006, 1.25883, -27.8561, -23.1006, 1.25883, -18.8561, -23.1006, 1.25883, -0.60611, -23.1006, 1.25883, 8.64389, -12.6006, 1.25883, 8.64389, -23.1006, 1.25883, -9.60611, -23.1006, 1.25883, -0.60611, -12.6006, 1.25883, 8.64389, -1.8506, 1.25883, 8.64389, -1.6006, 1.25883, -26.6061, -3.1006, 1.25883, -26.6061, 10.8994, 1.25883, -26.6061, 10.6494, 1.25883, -27.8561, 9.8994, 1.25883, -27.8561, 9.6494, 1.25883, -26.6061, 4.3994, 1.25883, 8.64389, 10.6494, 1.25883, 8.64389, 23.1494, 1.25883, -0.35611, 16.8994, 1.25883, -26.3561, 10.8994, 1.25883, -26.6061, 9.6494, 1.25883, -26.6061, 23.1494, 1.25883, -9.10611, 23.1494, 1.25883, -17.8561, 23.1494, 1.25883, -17.8561, 23.1494, 1.25883, -26.6061, 16.8994, 1.25883, -26.3561, 16.8994, 1.25883, 8.64389, 23.1494, 1.25883, 8.64389, 23.1494, 1.25883, -0.35611, 10.6494, 1.25883, 8.64389, 16.8994, 1.25883, 8.64389, 23.1494, 1.25883, -0.35611, 4.3994, 1.25883, 8.64389, 23.1494, 1.25883, -0.35611, 23.1494, 1.25883, -9.10611, 9.6494, 1.25883, -26.6061, -1.6006, 1.25883, -26.6061, -1.8506, 1.25883, 8.64389 )
polygons = [ PoolIntArray( 3, 2, 0 ), PoolIntArray( 0, 2, 1 ), PoolIntArray( 7, 6, 4 ), PoolIntArray( 4, 6, 5 ), PoolIntArray( 9, 8, 10 ), PoolIntArray( 10, 8, 11 ), PoolIntArray( 11, 8, 12 ), PoolIntArray( 15, 14, 13 ), PoolIntArray( 18, 17, 16 ), PoolIntArray( 20, 19, 21 ), PoolIntArray( 21, 19, 22 ), PoolIntArray( 22, 19, 24 ), PoolIntArray( 22, 24, 23 ), PoolIntArray( 26, 25, 27 ), PoolIntArray( 27, 25, 28 ), PoolIntArray( 31, 30, 29 ), PoolIntArray( 33, 32, 34 ), PoolIntArray( 34, 32, 36 ), PoolIntArray( 34, 36, 35 ), PoolIntArray( 39, 38, 37 ), PoolIntArray( 42, 41, 40 ), PoolIntArray( 44, 43, 45 ), PoolIntArray( 46, 51, 47 ), PoolIntArray( 47, 51, 48 ), PoolIntArray( 48, 51, 49 ), PoolIntArray( 49, 51, 50 ) ]

[sub_resource type="BoxShape" id=1]
extents = Vector3( 1, 1, 1.92244 )

[sub_resource type="CubeMesh" id=2]

[node name="Spatial" type="Spatial"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 4 )

[node name="Player" parent="." instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -7.86399, 2.18826, 0.531348 )

[node name="AnimationTree" parent="Player" index="11"]
parameters/playback = SubResource( 6 )

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="."]
navmesh = SubResource( 5 )
enabled = false

[node name="StaticBody" type="StaticBody" parent="NavigationMeshInstance"]
transform = Transform( 23.6006, 0, 0, 0, 0.991166, 0, 0, 0, 9.91166, 0, 0, 0 )

[node name="CollisionShape" type="CollisionShape" parent="NavigationMeshInstance/StaticBody"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.923888 )
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="NavigationMeshInstance/StaticBody"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1.88629, 0, 0, -0.968229 )
mesh = SubResource( 2 )
material/0 = ExtResource( 6 )

[node name="basic_building" parent="NavigationMeshInstance" instance=ExtResource( 4 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 12.261, 0.991223, -28.1863 )

[node name="basic_building2" parent="NavigationMeshInstance" instance=ExtResource( 4 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -1.65561, 0.991223, -28.3561 )

[node name="Pause" parent="." instance=ExtResource( 3 )]
visible = false

[node name="Enemy" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9.64109, 2.06318, -2.94862 )
patrol_point = [ Vector3( 9, 2, -2 ) ]

[node name="road_cone" parent="." instance=ExtResource( 5 )]
transform = Transform( 0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, -9.17303, 1.06663, -19.9905 )

[node name="road_cone2" parent="." instance=ExtResource( 5 )]
transform = Transform( 0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, -7.86278, 1.06663, -21.0704 )

[node name="road_cone3" parent="." instance=ExtResource( 5 )]
transform = Transform( 0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, -7.8909, 1.06663, -19.7637 )

[node name="UI" parent="." instance=ExtResource( 7 )]

[node name="stairs" parent="." instance=ExtResource( 8 )]
transform = Transform( -0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, -0.707107, -13.678, 1.12484, -15.261 )

[connection signal="Power_changed" from="Player" to="UI/Battery" method="_on_Player_Power_changed"]

[editable path="Player"]
[editable path="UI"]
