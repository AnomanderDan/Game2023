[gd_scene load_steps=15 format=2]

[ext_resource path="res://Entities/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Entities/Enemy.tscn" type="PackedScene" id=2]
[ext_resource path="res://Entities/EventArea.tscn" type="PackedScene" id=3]
[ext_resource path="res://basic_building.tscn" type="PackedScene" id=4]
[ext_resource path="res://road_cone.tscn" type="PackedScene" id=5]
[ext_resource path="res://Asphalt025A_4K-JPG/Asphalt.tres" type="Material" id=6]
[ext_resource path="res://slope.tscn" type="PackedScene" id=8]

[sub_resource type="Environment" id=4]
background_mode = 1
background_color = Color( 0.0823529, 0.0901961, 0.196078, 1 )
background_energy = 0.21
ambient_light_color = Color( 0.713726, 0.690196, 0.811765, 1 )
ambient_light_energy = 0.1
fog_enabled = true

[sub_resource type="AnimationNodeStateMachinePlayback" id=6]

[sub_resource type="NavigationMesh" id=5]
vertices = PoolVector3Array( 5.75, 18.5, -27.25, 5.75, 18.5, -30.75, 5.5, 18.5, -27.75, 4.75, 18.5, -27.5, 5.75, 18.5, -27.25, 5.5, 18.5, -27.75, -16.5, 1.5, -17.25, -17.5, 1.5, -17.25, -17.5, 0.75, -15.5, -16.5, 0.75, -15.5, 9.75, 0.5, 28.5, 19.5, 0.5, 21.5, 19.5, 0.5, 14.75, -15.5, 0.5, -15.25, -16.5, 0.75, -15.5, -17.5, 0.75, -15.5, -15.5, 0.5, -15.25, -17.5, 0.75, -15.5, -18.5, 0.5, -15.5, -19.5, 0.5, -7.75, 7.5, 0.5, -30.5, 6.75, 0.5, -30.5, 6.75, 0.5, -26.75, 7.75, 0.5, -26.25, 9.75, 0.5, 28.5, 19.5, 0.5, 14.75, 19.5, 0.5, 7.75, 0, 0.5, 28.5, 7.75, 0.5, -26.25, 6.75, 0.5, -26.75, 6.25, 0.5, -26.25, 19.5, 0.5, -12.75, 19.5, 0.5, -19.5, -18.5, 0.5, -15.5, -18.5, 0.5, -19.75, -19.5, 0.5, -19.75, -19.5, 0.5, -7.75, -6.25, 0.5, -26.25, -6.5, 0.5, -30.5, -8.75, 0.5, -30.5, -8.75, 0.5, -20.25, 19.5, 0.5, -6, 19.5, 0.5, -12.75, 6.25, 0.5, -26.25, -9.25, 0.5, -19.75, -15.25, 0.5, -19.75, -15.5, 0.5, -15.25, -19.5, 0.5, 16.25, -9.75, 0.5, 28.5, 0, 0.5, 28.5, -19.5, 0.5, 4.25, 0, 0.5, 28.5, 19.5, 0.5, 7.75, 19.5, 0.5, 1, 6.25, 0.5, -26.25, -9.25, 0.5, -19.75, -19.5, 0.5, 4.25, 0, 0.5, -26.25, -6.25, 0.5, -26.25, -8.75, 0.5, -20.25, 0, 0.5, -26.25, -8.75, 0.5, -20.25, -9.25, 0.5, -19.75, 6.25, 0.5, -26.25, -19.5, 0.5, 22.25, -19.5, 0.5, 28.5, -9.75, 0.5, 28.5, 9.75, 0.5, 28.5, 19.5, 0.5, 28.5, 19.5, 0.5, 21.5, 19.5, 0.5, -19.5, 19.5, 0.5, -26.25, 7.75, 0.5, -26.25, 19.5, 0.5, 1, 19.5, 0.5, -6, 6.25, 0.5, -26.25, -19.5, 0.5, 16.25, -19.5, 0.5, 22.25, -9.75, 0.5, 28.5, -9.25, 0.5, -19.75, -15.5, 0.5, -15.25, -19.5, 0.5, -7.75, -19.5, 0.5, 4.25, -5.25, 0.5, -27.5, -2.25, 0.5, -27.5, -2, 0.5, -28.25, -5.25, 0.5, -30.5, 2, 0.5, -28.25, 2.25, 0.5, -27.5, 5.5, 0.5, -27.5, 5.5, 0.5, -30.5, -5.25, 0.5, -30.5, -2, 0.5, -28.25, 2, 0.5, -28.25, 5.5, 0.5, -30.5, -4.5, 18, -30.5, -4.5, 18, -28.5, 4.5, 18, -28.5, 4.5, 18, -30.5, 8.75, 0.5, -27.5, 11.75, 0.5, -27.5, 12, 0.5, -28.25, 8.75, 0.5, -30.5, 16, 0.5, -28.25, 16.25, 0.5, -27.5, 19.5, 0.5, -27.5, 19.5, 0.5, -30.5, 8.75, 0.5, -30.5, 12, 0.5, -28.25, 16, 0.5, -28.25, 19.5, 0.5, -30.5, 9.5, 18, -30.5, 9.5, 18, -28.5, 18.5, 18, -28.5, 18.5, 18, -30.5, -17.5, 2.5, -20.75, -17.5, 1.5, -17.25, -16.5, 1.5, -17.25, -16.25, 2.5, -21, -16.25, 2.5, -21, -10, 2.5, -21, -10, 2.5, -30, -19, 2.5, -30, -19, 2.5, -21, -17.5, 2.5, -20.75, -16.25, 2.5, -21, -19, 2.5, -30, -18.75, 0.5, -29.75, -18.75, 0.5, -21, -10, 0.5, -21, -10, 0.5, -29.75, -5.5, 18.5, -27.75, -5.5, 18.5, -27.25, -4.75, 18.5, -27.25, 8.5, 18.5, -27.75, 8.5, 18.5, -27.25, 9.25, 18.5, -27.25, 18.75, 18.5, -27.5, 19.5, 18.5, -27.25, 19.5, 18.5, -27.75 )
polygons = [ PoolIntArray( 2, 1, 0 ), PoolIntArray( 3, 5, 4 ), PoolIntArray( 9, 8, 6 ), PoolIntArray( 6, 8, 7 ), PoolIntArray( 12, 11, 10 ), PoolIntArray( 15, 14, 13 ), PoolIntArray( 17, 16, 18 ), PoolIntArray( 18, 16, 19 ), PoolIntArray( 21, 20, 22 ), PoolIntArray( 22, 20, 23 ), PoolIntArray( 25, 24, 26 ), PoolIntArray( 26, 24, 27 ), PoolIntArray( 29, 28, 30 ), PoolIntArray( 30, 28, 32 ), PoolIntArray( 30, 32, 31 ), PoolIntArray( 34, 33, 35 ), PoolIntArray( 35, 33, 36 ), PoolIntArray( 38, 37, 39 ), PoolIntArray( 39, 37, 40 ), PoolIntArray( 43, 42, 41 ), PoolIntArray( 46, 45, 44 ), PoolIntArray( 48, 47, 49 ), PoolIntArray( 49, 47, 50 ), PoolIntArray( 52, 51, 53 ), PoolIntArray( 53, 51, 56 ), PoolIntArray( 53, 56, 55 ), PoolIntArray( 53, 55, 54 ), PoolIntArray( 59, 58, 57 ), PoolIntArray( 61, 60, 62 ), PoolIntArray( 62, 60, 63 ), PoolIntArray( 66, 65, 64 ), PoolIntArray( 69, 68, 67 ), PoolIntArray( 72, 71, 70 ), PoolIntArray( 75, 74, 73 ), PoolIntArray( 78, 77, 76 ), PoolIntArray( 80, 79, 81 ), PoolIntArray( 81, 79, 82 ), PoolIntArray( 84, 83, 85 ), PoolIntArray( 85, 83, 86 ), PoolIntArray( 88, 87, 89 ), PoolIntArray( 89, 87, 90 ), PoolIntArray( 92, 91, 93 ), PoolIntArray( 93, 91, 94 ), PoolIntArray( 98, 97, 95 ), PoolIntArray( 95, 97, 96 ), PoolIntArray( 100, 99, 101 ), PoolIntArray( 101, 99, 102 ), PoolIntArray( 104, 103, 105 ), PoolIntArray( 105, 103, 106 ), PoolIntArray( 108, 107, 109 ), PoolIntArray( 109, 107, 110 ), PoolIntArray( 114, 113, 111 ), PoolIntArray( 111, 113, 112 ), PoolIntArray( 116, 115, 117 ), PoolIntArray( 117, 115, 118 ), PoolIntArray( 120, 119, 121 ), PoolIntArray( 121, 119, 122 ), PoolIntArray( 124, 123, 125 ), PoolIntArray( 125, 123, 126 ), PoolIntArray( 130, 129, 127 ), PoolIntArray( 127, 129, 128 ), PoolIntArray( 133, 132, 131 ), PoolIntArray( 136, 135, 134 ), PoolIntArray( 139, 138, 137 ) ]

[sub_resource type="CubeMesh" id=9]
size = Vector3( 40, 1, 60 )

[sub_resource type="ConcavePolygonShape" id=10]
data = PoolVector3Array( -20, 0.5, 30, 20, 0.5, 30, -20, -0.5, 30, 20, 0.5, 30, 20, -0.5, 30, -20, -0.5, 30, 20, 0.5, -30, -20, 0.5, -30, 20, -0.5, -30, -20, 0.5, -30, -20, -0.5, -30, 20, -0.5, -30, 20, 0.5, 30, 20, 0.5, -30, 20, -0.5, 30, 20, 0.5, -30, 20, -0.5, -30, 20, -0.5, 30, -20, 0.5, -30, -20, 0.5, 30, -20, -0.5, -30, -20, 0.5, 30, -20, -0.5, 30, -20, -0.5, -30, 20, 0.5, 30, -20, 0.5, 30, 20, 0.5, -30, -20, 0.5, 30, -20, 0.5, -30, 20, 0.5, -30, -20, -0.5, 30, 20, -0.5, 30, -20, -0.5, -30, 20, -0.5, 30, 20, -0.5, -30, -20, -0.5, -30 )

[sub_resource type="CubeMesh" id=7]
size = Vector3( 10, 2, 10 )

[sub_resource type="ConcavePolygonShape" id=8]
data = PoolVector3Array( -5, 1, 5, 5, 1, 5, -5, -1, 5, 5, 1, 5, 5, -1, 5, -5, -1, 5, 5, 1, -5, -5, 1, -5, 5, -1, -5, -5, 1, -5, -5, -1, -5, 5, -1, -5, 5, 1, 5, 5, 1, -5, 5, -1, 5, 5, 1, -5, 5, -1, -5, 5, -1, 5, -5, 1, -5, -5, 1, 5, -5, -1, -5, -5, 1, 5, -5, -1, 5, -5, -1, -5, 5, 1, 5, -5, 1, 5, 5, 1, -5, -5, 1, 5, -5, 1, -5, 5, 1, -5, -5, -1, 5, 5, -1, 5, -5, -1, -5, 5, -1, 5, 5, -1, -5, -5, -1, -5 )

[node name="Spatial" type="Spatial"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 4 )

[node name="Player" parent="." instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -7.864, 1, 0.531 )

[node name="Prompt" parent="Player/Interact_ray" index="0"]
__meta__ = {
"_edit_use_anchors_": false
}

[node name="AnimationTree" parent="Player" index="11"]
parameters/playback = SubResource( 6 )

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="."]
navmesh = SubResource( 5 )

[node name="basic_building" parent="NavigationMeshInstance" instance=ExtResource( 4 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -5, 1, -28 )

[node name="basic_building2" parent="NavigationMeshInstance" instance=ExtResource( 4 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 9, 1, -28 )

[node name="Floor" type="MeshInstance" parent="NavigationMeshInstance"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, -1 )
mesh = SubResource( 9 )
skeleton = NodePath("")
material/0 = ExtResource( 6 )

[node name="StaticBody" type="StaticBody" parent="NavigationMeshInstance/Floor"]

[node name="CollisionShape" type="CollisionShape" parent="NavigationMeshInstance/Floor/StaticBody"]
shape = SubResource( 10 )

[node name="platform" type="MeshInstance" parent="NavigationMeshInstance"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -14.5, 1, -25.5 )
mesh = SubResource( 7 )
skeleton = NodePath("../..")

[node name="StaticBody" type="StaticBody" parent="NavigationMeshInstance/platform"]

[node name="CollisionShape" type="CollisionShape" parent="NavigationMeshInstance/platform/StaticBody"]
shape = SubResource( 8 )

[node name="slope" parent="NavigationMeshInstance" instance=ExtResource( 8 )]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 3.04597, 0, -1.33144e-07, -17, 1, -17.4884 )
skeleton = NodePath("../..")

[node name="Enemy" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9.64109, 2.06318, -2.94862 )
patrol_point = [ Vector3( 9, 1, -2 ), Vector3( 10, 1, 2 ) ]

[node name="road_cone" parent="." instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -9, 0.1, -17 )

[node name="road_cone2" parent="." instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 0.1, -16 )

[node name="road_cone3" parent="." instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -9, 0.1, -15 )

[node name="EventArea" parent="." instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.53832, -9.53674e-07, -5.01957 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="EventArea"]

[editable path="Player"]
